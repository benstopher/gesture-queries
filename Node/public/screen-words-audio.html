<!DOCTYPE html>
<html>
<head>
	<title>Skeleton Queries</title>
	<link rel="stylesheet" type="text/css" href="assets/stylesheets/style.css">
	<link rel="stylesheet" type="text/css" href="assets/stylesheets/svg-style.css">
	<style type="text/css">
		html,body{
			overflow: hidden;
		}
		#graph-node-words{
			width: 100%;
			height: 100%;
		}
		.row{
			position: absolute;
			bottom: 0;
			height: 300px;
		}
		#frame{
			padding: 0;
		}
	</style>
</head>
<body>

	<div id="frame">
		<div id="graph-node-words">
			
		</div>
		<div class="row">
			<div class="row__part">
				<section>
					<div id="graph-line-audio">
						
					</div>
				</section>
			</div>
		</div>
	</div>

	<script src="assets/javascript/libs/zepto.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="assets/javascript/libs/leap-0.4.3.js"></script>
	<script src="assets/javascript/libs/d3.js"></script>
	<script src="assets/javascript/libs/_o.js"></script>
	<script src="assets/javascript/libs/_o.render.js"></script>
	<script src="assets/javascript/modules/help.js"></script>
	<script src="assets/javascript/modules/Timer.js"></script>
	<script src="assets/javascript/modules/GetBodies.js"></script>
	<script src="assets/javascript/modules/GetHands.js"></script>
	<script src="assets/javascript/modules/GetSpeech.js"></script>
	<script src="assets/javascript/modules/DataSaver.js"></script>
	<script src="assets/javascript/modules/Input.js"></script>
	<script src="assets/javascript/modules/d3/LineChart.js"></script>
	<script src="assets/javascript/modules/d3/StreamGraph.js"></script>
	<script src="assets/javascript/modules/d3/DonutChart.js"></script>
	<script src="assets/javascript/modules/d3/ForceNodeChart.js"></script>
	<script src="assets/javascript/modules/WaveformRenderer.js"></script>
	<script src="assets/javascript/modules/SoundVsSilence.js"></script>
	<script src="assets/javascript/modules/kimono/Kimono.js"></script>
	<script src="assets/javascript/modules/QueryMaker.js"></script>
	<script src="assets/javascript/scratch_data_conversions.js"></script>
	<script>
		var input = new Input( $('#canvas-skeletons') , 1000/30, true, false, false );
		var forceNodeChart_words = new ForceNodeChart( '#graph-node-words', $('#graph-node-words').width(),  $('#graph-node-words').height() );
		var waveform = new WaveformRenderer( $('#graph-line-audio'), $('#graph-line-audio').width(), window.innerHeight * 0.2 );
		var wordChartAdditions = 0;
		var updateWordChart = function(){

			if( wordChartAdditions > 10 ){
				forceNodeChart_words.reset();
				wordChartAdditions = 0;
			}
			//var d = "this is a test sentence to test things with it is only intended for the purposes of testing and testing is what its good at";
			var d = input.speech.getLastXStore( 25 );
			//var d = input.speech.getNewStore();

			d = wordsToNodeChart( d );
			forceNodeChart_words.addData( d );
			wordChartAdditions++;
			setTimeout( function(){
				updateWordChart();
			}, 10000 );
		}

		input.start();

		updateWordChart();

	</script>
</body>
</html>